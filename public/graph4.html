<canvas id='canvas' width='400' height='300'></canvas>
<script>

var c = document.getElementById('canvas'),
	cc = c.getContext('2d'),
	bubls = [], 
	bublCount= 50,
	depth = 15;


// window.onload=function(){
// 	// c=document.getElementById('gc');
// 	// cc=c.getContext('2d');
// 	setInterval(draw(),1000/30);
// 	// c.addEventListener('mousemove',function(e){
// 	// 	p1y = e.clientY-ph/2
// 	// })
// }

class Bubl{
	constructor(y=c.height+depth){
		this.x = Math.round(Math.random() * c.width);
		this.y = y;
		this.d = Math.round(Math.random() * depth);
		this.color = 'green'
	}
	get hight(){return this.d};
	get speed(){return this.d};
};



for (i=0;i<bublCount;i++){
	let bubl = new Bubl(Math.round(Math.random() * c.height));
	bubls.push(bubl)
}

setInterval(draw,1000/40)

console.log(Bubl.count);

function draw() {
	
	cc.fillStyle='white';
	cc.fillRect(0,0,c.width,c.height);
	
  	bubls.forEach((e,index, object)=>{

  		e.y-=e.d/8;

  		if (e.y < 0-e.d) {
  			let b = new Bubl();
  		object[index] = b;
		// console.log( b);
  		// console.log('new bubl created');
  		}

  		cc.strokeStyle = e.color;
        cc.beginPath();
        cc.arc(e.x + Math.sin(e.y/15) * (e.d/depth), e.y, e.d, 0, Math.PI * 2, true);
        cc.stroke();
  	})

}


// draw();  
</script>